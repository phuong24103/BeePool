@model X.PagedList.PagedList<Datn_Shared.ViewModels.ProductViewModels.ProductView>
@using AspNetCore.PaginatedList;
@using X.PagedList.Mvc.Core
@{
    ViewData["Title"] = "GetByPriceMax";

    <link rel="stylesheet" href="~/css/product.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/productbutton.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/dropdown.css" asp-append-version="true" />


}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">Trang Chủ <span class="sr-only">/</span></a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" asp-area="" asp-controller="Product" asp-action="GetByNameAZ">Danh Mục <span class="sr-only">/</span></a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" asp-area="" asp-controller="Product" asp-action="AllProductController">Tất Cả Sản Phẩm <span class="sr-only"></span></a>
            </li>

        </ul>
    </div>
</nav>
<div class="row" style="margin-top : 30px;border-top : 2px solid black;border-left : 2px solid black;border-right : 2px solid black">
    <div class="col-md-6">
        <h3 style="font-weight : bold">Tất Cả Sản Phẩm</h3>
    </div>
    <div class="col-md-6" style="text-align : right">
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-layer-backward" viewBox="0 0 30 30">
            <path d="M8.354 15.854a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708l1-1a.5.5 0 0 1 .708 0l.646.647V4H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H9v7.793l.646-.647a.5.5 0 0 1 .708 0l1 1a.5.5 0 0 1 0 .708l-3 3z" />
            <path d="M1 9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h4.5a.5.5 0 0 1 0 1H1v2h4.5a.5.5 0 0 1 0 1H1zm9.5 0a.5.5 0 0 1 0-1H15V6h-4.5a.5.5 0 0 1 0-1H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4.5z" />
        </svg>
        <select id="productSelect">

            <option selected value="0">Sắp Xếp</option>
            <option value="1">Giá : Tăng Dần</option>
            <option value="2">Giá : Giảm Dần</option>
            <option value="3">Tên A-Z</option>
            <option value="4">Tên Z-A</option>
            <option value="5">Cũ Nhất</option>
            <option value="6">Mới Nhất</option>
            <option value="7">Bán Chạy Nhất</option>

        </select>
    </div>
</div>
<div class="row" style="margin-top : 30px;border-bottom : 2px solid black;border-left : 2px solid black;border-right : 2px solid black">
    <div class="col-md-3">
        <h3 style="font-weight : bold;margin-bottom : 70px">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-view-stacked" viewBox="0 0 20 20">
                <path d="M3 0h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3zm0 8h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H3z" />
            </svg>Bộ Lọc
        </h3>
    </div>
    <div class="col-md-3" style="text-align : right">

        <select>
            <option selected value="0">Thương Hiệu</option>
            <option value="1">Giá : Tăng Dần</option>
            <option value="2">Giá : Giảm Dần</option>
            <option value="3">Tên A-Z</option>
            <option value="4">Tên Z-A</option>
            <option value="5">Cũ Nhất</option>
            <option value="6">Mới Nhất</option>
            <option value="7">Bán Chạy Nhất</option>

        </select>
    </div>
    <div class="col-md-3" style="text-align : right">

        <select id="productSelect2">

            <option selected value="0">Giá</option>
            <option value="1">Dưới 2000</option>
            <option value="2">Từ 2000 đến 5000</option>
            <option value="3">Từ 5000 đến 10000</option>
            <option value="4">Từ 10000 đến 20000</option>
            <option value="5">Từ 20000 đến 50000</option>
            <option value="6">Từ 50000 đến 100000</option>
            <option value="7">Trên 100000</option>

        </select>
    </div>
    <div class="col-md-3" style="text-align : right">

        <select>

            <option selected value="0">Loại Sản Phẩm</option>
            <option value="1">Giá : Tăng Dần</option>
            <option value="2">Giá : Giảm Dần</option>
            <option value="3">Tên A-Z</option>
            <option value="4">Tên Z-A</option>
            <option value="5">Cũ Nhất</option>
            <option value="6">Mới Nhất</option>
            <option value="7">Bán Chạy Nhất</option>

        </select>
    </div>


</div>
<div class="row" style="margin-bottom : 100px;margin-top : 100px">
    @foreach (var item in @Model)
    {
        @if (@item.ProductDetailId != Guid.Empty)
        {
            <div class="col-md-4">
                <a asp-area="" asp-controller="ProductDetail" asp-action="Index" asp-route-id="@item.ProductDetailId">
                    <div class="container page-wrapper">
                        <div class="page-inner">
                            <div class="row">
                                <div class="el-wrapper">
                                    <div class="box-up">
                                        <img class="img" src="~/images//1.png" alt="">
                                        <div class="img-info">
                                            <div class="info-inner">
                                                <span class="p-name">@item.Name</span>
                                                <span class="p-company">@item.Producer</span>
                                            </div>
                                            <div class="a-size">Số lượng : <span class="size">@item.AvailableQuantity</span></div>
                                        </div>
                                    </div>

                                    <div class="box-down">
                                        <div class="h-bg">
                                            <div class="h-bg-inner"></div>
                                        </div>

                                        <a asp-action="CreateOne" asp-controller="Cart" asp-route-id="@item.ProductDetailId" class="cart">
                                            <span class="price">$@item.Price</span>
                                            <span class="add-to-cart">
                                                <span class="txt">Thêm vào giỏ hàng</span>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        }
    }
</div>
<div style="text-align : center;margin-left : 600px;font-weight : bold;font-size : 20px">
    <div class="pagination">
        <span style="text-align : center;margin-left : 30px;margin-right : 30px">@Html.PagedListPager(Model, page => Url.Action("GetByPriceMax", new { page, pageSize = Model.PageSize }))</span>
    </div>
</div>
<script>
    document.getElementById("productSelect").addEventListener("change", function () {
        var selectedValue = this.value;
        var controller = "Product";
        var url;
        if(selectedValue=="1")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByPriceMin" + "?selectedValue=" + selectedValue;
        }
        if(selectedValue=="2")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByPriceMax" + "?selectedValue=" + selectedValue;
        }
        if(selectedValue=="3")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByNameAZ" + "?selectedValue=" + selectedValue;
        }
        if(selectedValue=="4")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByNameZA" + "?selectedValue=" + selectedValue;
        }
        if(selectedValue=="5")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByCreateDateOld" + "?selectedValue=" + selectedValue;
        }
        if(selectedValue=="6")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByCreateDateNew" + "?selectedValue=" + selectedValue;
        }

        window.location.href = url;
    });
    document.getElementById("productSelect2").addEventListener("change", function () {
        var selectedValue = this.value;
        var controller = "Product";
        var url;
        if(selectedValue=="1")
        {
            url = "https://localhost:7162/" + controller + "/" + "GetByPrice2" + "?selectedValue=" + selectedValue;
        }
        window.location.href = url;
    });
</script>

